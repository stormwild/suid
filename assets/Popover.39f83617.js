var F=Object.defineProperty;var i=(t,r)=>F(t,"name",{value:r,configurable:!0});import{G as K}from"./Grow.fd8605cb.js";import{r as N,s as V,v as X,x as H,ar as Y,P as q,a4 as b,m as f,f as x,a5 as I,d,E as D,ah as J,aK as z,aL as Q,aE as M}from"./index.b0b0be32.js";function Z(t){return V("MuiPopover",t)}i(Z,"getPopoverUtilityClass");N("MuiPopover",["root","paper"]);const m=X()({name:"MuiPopover",selfPropNames:["action","anchorEl","anchorOrigin","anchorPosition","anchorReference","children","classes","container","elevation","marginThreshold","onClose","open","PaperProps","transformOrigin","TransitionComponent","transitionDuration","TransitionProps"],utilityClass:Z,slotClasses:()=>({root:["root"],paper:["paper"]})});function W(t,r){let n=0;return typeof r=="number"?n=r:r==="center"?n=t.height/2:r==="bottom"&&(n=t.height),n}i(W,"getOffsetTop");function S(t,r){let n=0;return typeof r=="number"?n=r:r==="center"?n=t.width/2:r==="right"&&(n=t.width),n}i(S,"getOffsetLeft");function A(t){return[t.horizontal,t.vertical].map(r=>typeof r=="number"?`${r}px`:r).join(" ")}i(A,"getTransformOriginValue");function u(t){return typeof t=="function"?t():t}i(u,"resolveAnchorEl");const _=H(Y,{name:"MuiPopover",slot:"Root",overridesResolver:(t,r)=>r.root})({}),nn=H(q,{name:"MuiPopover",slot:"Paper",overridesResolver:(t,r)=>r.paper})({position:"absolute",overflowY:"auto",overflowX:"hidden",minWidth:16,minHeight:16,maxWidth:"calc(100% - 32px)",maxHeight:"calc(100% - 32px)",outline:0}),tn=m.defineComponent(i(function(r){const n=m.useThemeProps({props:r}),[,L]=b(n,["action","anchorEl","anchorOrigin","anchorPosition","anchorReference","children","class","container","elevation","marginThreshold","open","PaperProps","transformOrigin","TransitionComponent","transitionDuration","TransitionProps"]),e=f({anchorOrigin:{vertical:"top",horizontal:"left"},anchorReference:"anchorEl",elevation:8,marginThreshold:16,PaperProps:{},transformOrigin:{vertical:"top",horizontal:"left"},TransitionComponent:K,transitionDuration:"auto"},n),[,P]=b(f(()=>n.TransitionProps||{}),["onEntering"]),g=J(()=>e.PaperProps.ref),v=f(n,{get anchorOrigin(){return e.anchorOrigin},get anchorReference(){return e.anchorReference},get elevation(){return e.elevation},get marginThreshold(){return e.marginThreshold},get PaperProps(){return e.PaperProps},get transformOrigin(){return e.transformOrigin},get TransitionComponent(){return e.TransitionComponent},get transitionDuration(){return e.transitionDuration},TransitionProps:P}),T=m.useClasses(v),$=i(()=>{if(e.anchorReference==="anchorPosition")return n.anchorPosition;const o=u(n.anchorEl),a=(o&&o.nodeType===1?o:M(g.current).body).getBoundingClientRect();return{top:a.top+W(a,e.anchorOrigin.vertical),left:a.left+S(a,e.anchorOrigin.horizontal)}},"getAnchorOffset"),U=i(o=>({vertical:W(o,e.transformOrigin.vertical),horizontal:S(o,e.transformOrigin.horizontal)}),"getTransformOrigin"),B=i(o=>{const s={width:o.offsetWidth,height:o.offsetHeight},a=U(s);if(e.anchorReference==="none")return{top:null,left:null,transformOrigin:A(a)};const O=$();let l=O.top-a.vertical,p=O.left-a.horizontal;const E=l+s.height,y=p+s.width,C=z(u(n.anchorEl)),R=C.innerHeight-e.marginThreshold,w=C.innerWidth-e.marginThreshold;if(l<e.marginThreshold){const c=l-e.marginThreshold;l-=c,a.vertical+=c}else if(E>R){const c=E-R;l-=c,a.vertical+=c}if(p<e.marginThreshold){const c=p-e.marginThreshold;p-=c,a.horizontal+=c}else if(y>w){const c=y-w;p-=c,a.horizontal+=c}return{top:`${Math.round(l)}px`,left:`${Math.round(p)}px`,transformOrigin:A(a)}},"getPositioningStyle"),h=i(()=>{const o=g.current;if(!o)return;const s=B(o);s.top!==null&&(o.style.top=s.top),s.left!==null&&(o.style.left=s.left),o.style.transformOrigin=s.transformOrigin},"setPositioningStyles"),G=i(()=>{n.TransitionProps?.onEntering&&n.TransitionProps?.onEntering(),h()},"handleEntering");x(()=>{n.open&&h()}),typeof n.action=="function"&&n.action({updatePosition:()=>{n.open&&h()}}),x(I(()=>[n.anchorEl,n.open,h],()=>{if(!n.open)return;const o=Q(()=>{h()}),s=z(u(n.anchorEl));return s.addEventListener("resize",o),()=>{o.clear(),s.removeEventListener("resize",o)}}));const j=i(()=>{let o=e.transitionDuration;return e.transitionDuration==="auto"&&!e.TransitionComponent.muiSupportAuto&&(o=void 0),o},"transitionDuration"),k=i(()=>n.container||(n.anchorEl?M(u(n.anchorEl)).body:void 0),"container");return d(_,f({BackdropProps:{invisible:!0},get class(){return D(T.root,n.class)},get container(){return k()},get open(){return n.open},ownerState:v},L,{get children(){return d(e.TransitionComponent,f({appear:!0,get in(){return n.open},onEntering:G,get timeout(){return j()}},P,{get children(){return d(nn,f({get elevation(){return e.elevation}},()=>e.PaperProps,{ref:g,get class(){return D(T.paper,e.PaperProps.class)},get children(){return n.children}}))}}))}}))},"Popover"));export{tn as P};
