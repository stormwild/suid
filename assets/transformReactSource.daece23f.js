var O=Object.defineProperty;var o=(e,n)=>O(e,"name",{value:n,configurable:!0});import{ts as l,Node as f}from"https://esm.sh/ts-morph@^16.0.0";function W(e,n){const t=e.getDescendantsOfKind(l.SyntaxKind.JsxAttribute);return n?t.filter(i=>n.includes(i.getName())):t}o(W,"findJSXAttrs");function w(e){return e.getDescendantsOfKind(l.SyntaxKind.ObjectBindingPattern)}o(w,"findObjectBindingPatterns");function k(e){return e.getDescendantsOfKind(l.SyntaxKind.ObjectLiteralExpression)}o(k,"findObjectLiteralExpressions");function E(e){const n=e.getParentWhileKind(l.SyntaxKind.QualifiedName);if(n)return n;const t=e.getParentWhileKind(l.SyntaxKind.TypeReference);if(t)return t;const i=e.getParentWhileKind(l.SyntaxKind.PropertyAccessExpression);return i||e}o(E,"getParentExpr");function _(e,n){const t=e.getImportDeclaration("react"),i=[],r=o(a=>{const s=a.getText();(!n||n.includes(s))&&i.push({name:s,node:a})},"push");if(t){const a=t.getNamespaceImport(),s=t.getNamedImports();for(const m of s){const c=m.getFirstChildByKind(l.SyntaxKind.Identifier);if(c)for(const d of c.findReferencesAsNodes())d!==c&&f.isIdentifier(d)&&r(d)}if(a)for(const m of a.findReferencesAsNodes()){if(m.getFirstAncestorByKind(l.SyntaxKind.NamespaceImport))continue;const d=E(m)?.getLastChildByKind(l.SyntaxKind.Identifier);d&&r(d)}}return i}o(_,"findReactObjects");function M(e,n){e.includes(n)||e.push(n)}o(M,"add");function J(e){const n=e.getImportDeclarations(),t={};for(const i of n){const r=i.getModuleSpecifier().getLiteralText();t[r]||(t[r]={nodes:[],withoutFrom:!0,named:[],defaults:[],namespaces:[]}),t[r].nodes.push(i);for(const m of i.getNamedImports())t[r].withoutFrom=!1,M(t[r].named,m.getText());const a=i.getDefaultImport();a&&(t[r].withoutFrom=!1,M(t[r].defaults,a.getText()));const s=i.getNamespaceImport();s&&(t[r].withoutFrom=!1,M(t[r].namespaces,s.getText()))}for(const i in t){const r=t[i];r.withoutFrom&&e.addImportDeclaration({moduleSpecifier:i}),r.named.length&&e.addImportDeclaration({moduleSpecifier:i,namedImports:r.named});for(const a of r.defaults)e.addImportDeclaration({moduleSpecifier:i,defaultImport:a});for(const a of r.namespaces)e.addImportDeclaration({moduleSpecifier:i,namespaceImport:a});for(const a of r.nodes)a.remove()}}o(J,"groupImports");function U(e){const n=e.getImportDeclarations();for(const i of n)i.getModuleSpecifier().getLiteralText()==="prop-types"&&i.remove();const t=e.getChildrenOfKind(l.SyntaxKind.ExpressionStatement);for(const i of t)i.getFirstChildByKind(l.SyntaxKind.BinaryExpression)?.getFirstChildByKind(l.SyntaxKind.PropertyAccessExpression)?.getLastChildByKind(l.SyntaxKind.Identifier)?.getText()==="propTypes"&&i.remove()}o(U,"removePropTypes");function z(e){const n=e.getImportDeclarations();for(const t of n)t.getModuleSpecifier().getLiteralText()==="react"&&t.remove()}o(z,"removeReactImports");function X(e){e.remove()}o(X,"removeReactKeyAttr");function q(e){const n=e.getImportDeclarations();for(const t of n){const i=t.getDefaultImport(),r=t.getNamedImports(),a=t.getNamespaceImport();let s=0;i?.findReferencesAsNodes().length===1&&(t.removeDefaultImport(),s++);for(const m of r)(m.getAliasNode()||m.getNameNode()).findReferencesAsNodes().length===1&&(m.remove(),s++);a?.findReferencesAsNodes().length===1&&(t.removeNamespaceImport(),s++),s&&!t.getDefaultImport()&&!t.getNamedImports().length&&!t.getNamespaceImport()&&t.remove()}}o(q,"removeUnusedImports");const Q={"@mui/base":[/.+/]},Y={"@mui/base/isHostComponent":"@suid/base/utils/isHostComponent"};function C(e){return e.replace(/^@mui/,"@suid")}o(C,"replace");function Z(e){for(const n of e.getImportDeclarations()){const t=n.getModuleSpecifier(),i=t.getLiteralText(),r=Q[i];if(r){const a=n.getNamedImports(),s=[];for(const m of a){const c=m.getName();if(r.some(p=>p.exec(c))){const p=`${i}/${c}`;e.addImportDeclaration({moduleSpecifier:C(Y[p]||p),defaultImport:m.getAliasNode()?.getText()||m.getName()}),s.push(m)}}if(s.length&&s.length===a.length&&!n.getDefaultImport()&&!n.getNamespaceImport()){n.remove();continue}else s.forEach(m=>m.remove())}i.startsWith("@mui/")&&t.setLiteralValue(C(i))}}o(Z,"renameMuiImports");function ee(e){return e.charAt(0).toUpperCase()+e.slice(1)}o(ee,"capitalize");function te(e){if(f.isCallExpression(e)){const n=e.getFirstDescendantByKind(l.SyntaxKind.PropertyAccessExpression)?.getText();return n==="React.cloneElement"||n==="React.createElement"}else return!1}o(te,"isReactComponentNode");function ne(e){let n;return e.getParentWhile(t=>{if(f.isFunctionDeclaration(t)||f.isFunctionExpression(t)){const i=t.getBody()?.getChildrenOfKind(l.SyntaxKind.ReturnStatement);for(const r of i||[]){const s=(r.getChildAtIndexIfKind(1,l.SyntaxKind.ParenthesizedExpression)||r).getChildAtIndex(1);if(f.isJsxFragment(s)||f.isJsxElement(s)||f.isJsxSelfClosingElement(s)||te(s))return n=t,!1}}return!0}),n}o(ne,"getAncestorComponent");function ie(e){return!!e.getFirstAncestorByKind(l.SyntaxKind.JsxElement)}o(ie,"hasAncestorJSX");function N(e,n){if(!n||n.includes("jsx")&&ie(e))return!0;if(n.includes("component")||n.includes("component-top-level")){const t=ne(e);return t?n.includes("component-top-level")?e.getFirstAncestor(r=>f.isFunctionDeclaration(r)||f.isFunctionExpression(r)||f.isArrowFunction(r))===t:!0:!1}return!1}o(N,"checkNodeScope");function x(e){if(f.isObjectLiteralExpression(e)||f.isArrayLiteralExpression(e)){for(const n of e.forEachChildAsArray())if(f.isPropertyAssignment(n)){const t=n.getInitializer();if(t&&!x(t))return!1}else if(!x(n))return!1;return!0}return f.isTrueLiteral(e)||f.isFalseLiteral(e)||f.isUndefinedKeyword(e)||f.isNullLiteral(e)||f.isNumericLiteral(e)||f.isStringLiteral(e)||f.isIdentifier(e)}o(x,"isStaticValue");function re(e){let n=!1;return e.getParentWhile(t=>f.isTypeAliasDeclaration(t)||f.isInterfaceDeclaration(t)||f.isTypeLiteral(t)?(n=!0,!1):!0),n}o(re,"hasAncestorType");function S(e,n,t=!0){for(const i of e.findReferencesAsNodes()){if(t&&e===i||re(i))continue;const r=i.getParent();f.isShorthandPropertyAssignment(r)?r.replaceWithText(`${e.getText()}: ${n}`):f.isIdentifier(i)&&i.replaceWithText(n)}}o(S,"renameIdentifiers");function D(e){const n=[];for(const t of e.getChildrenOfKind(l.SyntaxKind.BindingElement)){const i=!!t.getChildAtIndexIfKind(0,l.SyntaxKind.DotDotDotToken),r=t.getChildAtIndexIfKindOrThrow(i?1:0,l.SyntaxKind.Identifier),a={name:r.getText(),rest:i,identifier:r};n.push(a);const s=t.getFirstChildByKind(l.SyntaxKind.EqualsToken);s&&(a.defaults=t.getChildAtIndex(s.getChildIndex()+1));const m=t.getFirstChildByKind(l.SyntaxKind.ColonToken);if(m){const c=t.getChildAtIndex(m.getChildIndex()+1);f.isObjectBindingPattern(c)?a.destruct=D(c):f.isIdentifier(c)&&(a.rename=c)}}return n}o(D,"toJson");function A(e,n=!0){return e.endsWith("?")&&(e=e.slice(0,-1)+" || {}"),n&&e.includes(".")&&(n&&(e=`() => ${e}`),n==="withMergeProps"&&(e=`mergeProps(${e})`)),e}o(A,"safePropName");function $(e,n){const t=[],i=[],r=n.find(c=>c.rest);if(r){const c=r.name,d=JSON.stringify(n.filter(p=>!p.rest).map(p=>p.name));i.push("splitProps"),t.push(`const [, ${c}] = splitProps(${A(e,"withMergeProps")}, ${d});`),S(r.identifier,c)}const a=n.filter(c=>c.defaults&&!c.destruct);if(a.length){const c=`base${ee(e)}`.replaceAll(".","_").replaceAll("?",""),p=`{
${a.reduce((u,T)=>(T.defaults&&x(T.defaults)?u+=`${T.name}: ${T.defaults?.getText()},
`:u+=`get ${T.name}() { return ${T.defaults?.getText()}; }
`,u),"")}}`;i.push("mergeProps"),t.push(`const ${c} = mergeProps(${p}, ${A(e)});
`);for(const u of a)S(u.rename||u.identifier,`${c}.${u.identifier.getText()}`)}const s=n.filter(c=>c.destruct);if(s.length)for(const c of s){const d=c.defaults?.getText().trim().startsWith("{"),p=$(`${e}.${c.name}${d?"?":""}`,c.destruct);i.push(...p.solidNamedImports.filter(u=>!i.includes(u))),t.push(...p.sentences)}const m=n.filter(c=>!c.rest&&!c.destruct&&!c.defaults);for(const c of m)S(c.rename||c.identifier,`${e}.${c.identifier.getText()}`);return{sentences:t,solidNamedImports:i}}o($,"generateSentences");function ae(e,n={scopes:["component-top-level","jsx"]}){if(e.wasForgotten()||!N(e,n.scopes))return;const t=e.getParent();let i;const r=D(e);if(f.isParameterDeclaration(t)){const s=(t.getParentIfKind(l.SyntaxKind.FunctionExpression)||t.getParentIfKind(l.SyntaxKind.FunctionDeclaration)||t.getParentIfKind(l.SyntaxKind.ArrowFunction))?.getParameters(),m=s?.indexOf(t);i=s?.length===1?"params":`params_${m}`}else if(t.getKind()===l.SyntaxKind.VariableDeclaration){const a=t.getChildAtIndex(2);if(a.getKind()===l.SyntaxKind.Identifier)i=a.getText();else return}else return;if(t.getKind()===l.SyntaxKind.Parameter){for(const a of r)S(a.rename||a.identifier,`${i}.${a.identifier.getText()}`);t.replaceWithText(i)}else if(t.getKind()===l.SyntaxKind.VariableDeclaration){const{sentences:a,solidNamedImports:s}=$(i,r);s.length&&t.getSourceFile().addImportDeclaration({moduleSpecifier:"solid-js",namedImports:s}),t.getFirstAncestorByKind(l.SyntaxKind.VariableStatement)?.replaceWithText(a.join(`

`))}}o(ae,"replaceObjectBinding");function se(e){e.rename("class")}o(se,"replaceReactClassNameAttr");function g(e,n,t){const i=E(e);t?("namespaceImport"in t?i.replaceWithText(`${t.namespaceImport}.${n}`):"namespaceNamedImport"in t?i.replaceWithText(`${t.namespaceNamedImport}.${n}`):"namedImport"in t&&i.replaceWithText(`${n}`),e.getSourceFile().addImportDeclaration({moduleSpecifier:t.moduleSpecifier,..."namespaceImport"in t&&{namespaceImport:t.namespaceImport},..."namespaceNamedImport"in t&&{namespaceImport:t.namespaceNamedImport},..."namedImport"in t&&{namedImports:[t.namedImport]}})):i.replaceWithText(n)}o(g,"renameExpr");function oe(e){g(e,"Context",{moduleSpecifier:"solid-js",namedImport:"Context"})}o(oe,"replaceReactContext");function le(e){g(e,"createContext",{moduleSpecifier:"solid-js",namedImport:"createContext"})}o(le,"replaceReactCreateContext");function ce(e){const n=E(e).getParentIfKind(l.SyntaxKind.TypeReference);n&&n.getChildren().length>1?g(e,"Component",{moduleSpecifier:"solid-js",namedImport:"Component"}):g(e,"ElementType",{moduleSpecifier:"@suid/types",namespaceImport:"ST"})}o(ce,"replaceReactElementType");function me(e){const n=e.getText();g(e,n,{moduleSpecifier:"@suid/types",namespaceImport:"ST"})}o(me,"replaceReactEventHandlers");function fe(e){const n=e.getText();n==="ChangeEvent"?g(e,n,{moduleSpecifier:"@suid/types",namespaceImport:"ST"}):g(e,n)}o(fe,"replaceReactEvents");function y(e,n,t){const i=e;i.__replacePatterns||(i.__replacePatterns={}),i.__replacePatterns[n]=t}o(y,"addReplacePattern");const b=`__EMPTY__${Date.now()}`;function de(e){const n=E(e),t=n.getParentIfKind(l.SyntaxKind.CallExpression);if(t){const[i]=t.getArguments();if(f.isFunctionExpression(i)||f.isArrowFunction(i)){const r=i.getParameters();let a,s,m=0;for(const c of r)m?m===1&&(s=c.getText()):a=c.getText(),m>0&&c.remove(),m++;s&&(i.insertStatements(0,`const ${s} = createRef(${a});`),e.getSourceFile().addImportDeclaration({moduleSpecifier:"@suid/system/createRef",defaultImport:"createRef"}))}y(e.getSourceFile(),b,""),n.replaceWithText(b)}}o(de,"replaceReactForwardRef");const R=`__EMPTY__${Date.now()}`;function pe(e){const n=e.getFirstAncestorByKind(l.SyntaxKind.JsxElement);y(e.getSourceFile(),R,""),n?.set({name:R})}o(pe,"replaceReactFragment");function ue(e){return e.charAt(0).toLowerCase()+e.slice(1)}o(ue,"uncapitalize");const{factory:h}=l,V={a:"HTMLAnchorElement",abbr:"HTMLElement",address:"HTMLElement",area:"HTMLAreaElement",article:"HTMLElement",aside:"HTMLElement",audio:"HTMLAudioElement",b:"HTMLElement",base:"HTMLBaseElement",bdi:"HTMLElement",bdo:"HTMLElement",big:"HTMLElement",blockquote:"HTMLElement",body:"HTMLBodyElement",br:"HTMLBRElement",button:"HTMLButtonElement",canvas:"HTMLCanvasElement",caption:"HTMLElement",cite:"HTMLElement",code:"HTMLElement",col:"HTMLTableColElement",colgroup:"HTMLTableColElement",data:"HTMLElement",datalist:"HTMLDataListElement",dd:"HTMLElement",del:"HTMLElement",details:"HTMLDetailsElement",dfn:"HTMLElement",dialog:"HTMLElement",div:"HTMLDivElement",dl:"HTMLDListElement",dt:"HTMLElement",em:"HTMLElement",embed:"HTMLEmbedElement",fieldset:"HTMLFieldSetElement",figcaption:"HTMLElement",figure:"HTMLElement",footer:"HTMLElement",form:"HTMLFormElement",h1:"HTMLHeadingElement",h2:"HTMLHeadingElement",h3:"HTMLHeadingElement",h4:"HTMLHeadingElement",h5:"HTMLHeadingElement",h6:"HTMLHeadingElement",head:"HTMLHeadElement",header:"HTMLElement",hgroup:"HTMLElement",hr:"HTMLHRElement",html:"HTMLHtmlElement",i:"HTMLElement",iframe:"HTMLIFrameElement",img:"HTMLImageElement",input:"HTMLInputElement",ins:"HTMLModElement",kbd:"HTMLElement",keygen:"HTMLElement",label:"HTMLLabelElement",legend:"HTMLLegendElement",li:"HTMLLIElement",link:"HTMLLinkElement",main:"HTMLElement",map:"HTMLMapElement",mark:"HTMLElement",menu:"HTMLElement",menuitem:"HTMLElement",meta:"HTMLMetaElement",meter:"HTMLElement",nav:"HTMLElement",noindex:"HTMLElement",noscript:"HTMLElement",object:"HTMLObjectElement",ol:"HTMLOListElement",optgroup:"HTMLOptGroupElement",option:"HTMLOptionElement",output:"HTMLElement",p:"HTMLParagraphElement",param:"HTMLParamElement",picture:"HTMLElement",pre:"HTMLPreElement",progress:"HTMLProgressElement",q:"HTMLQuoteElement",rp:"HTMLElement",rt:"HTMLElement",ruby:"HTMLElement",s:"HTMLElement",samp:"HTMLElement",script:"HTMLElement",section:"HTMLElement",select:"HTMLSelectElement",small:"HTMLElement",source:"HTMLSourceElement",span:"HTMLSpanElement",strong:"HTMLElement",style:"HTMLStyleElement",sub:"HTMLElement",summary:"HTMLElement",sup:"HTMLElement",table:"HTMLTableElement",tbody:"HTMLTableSectionElement",td:"HTMLTableDataCellElement",textarea:"HTMLTextAreaElement",tfoot:"HTMLTableSectionElement",th:"HTMLTableHeaderCellElement",thead:"HTMLTableSectionElement",time:"HTMLElement",title:"HTMLTitleElement",tr:"HTMLTableRowElement",track:"HTMLTrackElement",u:"HTMLElement",ul:"HTMLUListElement",var:"HTMLElement",video:"HTMLVideoElement",wbr:"HTMLElement",svg:"SVGSVGElement",animate:"SVGAnimateElement",animateMotion:"SVGAnimateMotionElement",animateTransform:"SVGAnimateTransformElement",circle:"SVGCircleElement",clipPath:"SVGClipPathElement",defs:"SVGDefsElement",desc:"SVGDescElement",ellipse:"SVGEllipseElement",feBlend:"SVGFEBlendElement",feColorMatrix:"SVGFEColorMatrixElement",feComponentTransfer:"SVGFEComponentTransferElement",feComposite:"SVGFECompositeElement",feConvolveMatrix:"SVGFEConvolveMatrixElement",feDiffuseLighting:"SVGFEDiffuseLightingElement",feDisplacementMap:"SVGFEDisplacementMapElement",feDistantLight:"SVGFEDistantLightElement",feFlood:"SVGFEFloodElement",feFuncA:"SVGFEFuncAElement",feFuncB:"SVGFEFuncBElement",feFuncG:"SVGFEFuncGElement",feFuncR:"SVGFEFuncRElement",feGaussianBlur:"SVGFEGaussianBlurElement",feImage:"SVGFEImageElement",feMerge:"SVGFEMergeElement",feMergeNode:"SVGFEMergeNodeElement",feMorphology:"SVGFEMorphologyElement",feOffset:"SVGFEOffsetElement",fePointLight:"SVGFEPointLightElement",feSpecularLighting:"SVGFESpecularLightingElement",feSpotLight:"SVGFESpotLightElement",feTile:"SVGFETileElement",feTurbulence:"SVGFETurbulenceElement",filter:"SVGFilterElement",foreignObject:"SVGForeignObjectElement",g:"SVGGElement",image:"SVGImageElement",line:"SVGLineElement",linearGradient:"SVGLinearGradientElement",marker:"SVGMarkerElement",mask:"SVGMaskElement",metadata:"SVGMetadataElement",path:"SVGPathElement",pattern:"SVGPatternElement",polygon:"SVGPolygonElement",polyline:"SVGPolylineElement",radialGradient:"SVGRadialGradientElement",rect:"SVGRectElement",stop:"SVGStopElement",switch:"SVGSwitchElement",symbol:"SVGSymbolElement",text:"SVGTextElement",textPath:"SVGTextPathElement",tspan:"SVGTSpanElement",use:"SVGUseElement",view:"SVGViewElement"};function ge(e){for(const n in V)if(V[n]===e)return n}o(ge,"findTag");function Ee(e){const n=E(e),i=n?.getParentIfKind(l.SyntaxKind.TypeReference)?.getLastChildByKind(l.SyntaxKind.TypeReference);if(i){const r=i.getLastChildByKind(l.SyntaxKind.Identifier)?.getText(),a=r?ge(r):null;if(a)i.transform(()=>h.createLiteralTypeNode(h.createStringLiteral(a)));else{const s=ue(e.getText().replace(/HTMLAttributes$/,""));s.length&&i.transform(()=>h.createLiteralTypeNode(h.createStringLiteral(s)))}n?.replaceWithText("ST.PropsOf"),e.getSourceFile().addImportDeclaration({namespaceImport:"ST",moduleSpecifier:"@suid/types"})}}o(Ee,"replaceReactHTMLAttributes");function Te(e){g(e,"Component",{moduleSpecifier:"solid-js",namedImport:"Component"})}o(Te,"replaceReactJSXElementConstructor");const G=`__REMOVE__${Date.now()}`;function Se(e){const n=E(e),t=n.getParentIfKind(l.SyntaxKind.CallExpression);if(t){const i=t.getArguments();for(let r=1;r<i.length;++r)t.removeArgument(1);y(e.getSourceFile(),G,""),n.replaceWithText(G)}}o(Se,"replaceReactMemo");function xe(e){g(e,"JSXElement",{moduleSpecifier:"solid-js",namedImport:"JSXElement"})}o(xe,"replaceReactNode");function he(e){const n=E(e),t=n.getParentIfKind(l.SyntaxKind.TypeReference),i=t?.forEachChildAsArray()||[];if(t&&i.length>1){const[,r]=i,a=r?.getText();a==="any"?(t.replaceWithText("ST.ElementType"),e.getSourceFile().addImportDeclaration({moduleSpecifier:"@suid/types",namespaceImport:"ST"})):(t.replaceWithText(`Component<${a}>`),e.getSourceFile().addImportDeclaration({moduleSpecifier:"solid-js",namedImports:["Component"]}))}else n.replaceWithText("ST.ElementType"),e.getSourceFile().addImportDeclaration({moduleSpecifier:"@suid/types",namespaceImport:"ST"})}o(he,"replaceReactReactElement");function ye(e){g(e,"Ref",{moduleSpecifier:"@suid/types",namespaceImport:"ST"})}o(ye,"replaceReactRef");const P=`__REMOVE__${Date.now()}`;function Le(e){const n=E(e),t=n.getParentIfKind(l.SyntaxKind.CallExpression);if(t){const i=t.getArguments();for(let r=1;r<i.length;++r)t.removeArgument(1);y(e.getSourceFile(),P,""),n.replaceWithText(P)}}o(Le,"replaceReactUseCallback");function Me(e){g(e,"useContext",{moduleSpecifier:"solid-js",namedImport:"useContext"})}o(Me,"replaceReactUseContext");function Ie(e){if(f.isArrowFunction(e)&&!e.getChildrenOfKind(l.SyntaxKind.Block)){const n=e.forEachChildAsArray();if(n.length===2)return n[1]}}o(Ie,"getInlineReturn");function I(e){return f.isFunctionDeclaration(e)||f.isFunctionExpression(e)||f.isArrowFunction(e)}o(I,"isAnyFunction");function v(e,n={}){const t=E(e),i=t.getParentIfKind(l.SyntaxKind.CallExpression);let r=n.functionName||"createEffect",a=!1,s=!1,m,c,d;if(i){const[p,u]=i.getArguments();if(I(p)){c=p;const T=c.getReturnType().getText();a=T.startsWith("() =>")||T.startsWith("function");const L=Ie(c);if(L)I(L)&&(m=L);else{const H=c.getFirstChildByKindOrThrow(l.SyntaxKind.Block).getChildSyntaxListOrThrow(),F=H.getFirstChildByKind(l.SyntaxKind.ReturnStatement);if(F&&H.getChildren().length===1){const[K]=F.forEachChildAsArray();I(K)&&(m=K)}}}f.isArrayLiteralExpression(u)&&(d=u,d.getElements().length?n.removeDependencies||(s=!0):r="onMount")}a?(r==="onMount"&&m?(r="onCleanup",c?.replaceWithText(m.getText()),e.getSourceFile().addImportDeclaration({namedImports:[r],moduleSpecifier:"solid-js"})):(r+="WithCleaning",e.getSourceFile().addImportDeclaration({defaultImport:r,moduleSpecifier:`@suid/system/${r}`})),t.replaceWithText(r)):(t.replaceWithText(r),e.getSourceFile().addImportDeclaration({namedImports:[r,...s?["on"]:[]],moduleSpecifier:"solid-js"})),c&&d&&s&&c.replaceWithText(`on(
() => ${d.getText()},
${c.getText()}
)`),d&&i?.removeArgument(d)}o(v,"replaceReactUseEffect");function He(e,n={}){return v(e,{...n,functionName:"createRenderEffect"})}o(He,"replaceReactUseLayoutEffect");function B(e,n=!1){const t=e.getText();S(e,`${t}()`),n&&e.replaceWithText(t)}o(B,"renameGetterVarToCall");function Fe(e){const n=E(e),t=n.getFirstAncestorByKind(l.SyntaxKind.CallExpression);if(t){const i=t.getFirstAncestorByKind(l.SyntaxKind.VariableDeclaration);if(i){const a=i.getFirstChildByKind(l.SyntaxKind.Identifier);a&&B(a,!0)}t.getArguments().length>1&&t.removeArgument(1)}n.replaceWithText("createMemo"),e.getSourceFile().addImportDeclaration({namedImports:["createMemo"],moduleSpecifier:"solid-js"})}o(Fe,"replaceReactUseMemo");function Ke(e){const n=E(e),i=n.getFirstAncestorByKind(l.SyntaxKind.CallExpression)?.getFirstAncestorByKind(l.SyntaxKind.VariableDeclaration);if(i){const r=i.getFirstDescendantByKind(l.SyntaxKind.ArrayBindingPattern);if(r){const s=r.getFirstDescendantByKind(l.SyntaxKind.BindingElement)?.getFirstDescendantByKind(l.SyntaxKind.Identifier);s&&B(s,!0)}}n.replaceWithText("createSignal"),e.getSourceFile().addImportDeclaration({namedImports:["createSignal"],moduleSpecifier:"solid-js"})}o(Ke,"replaceReactUseState");function j(e){if(e.wasForgotten())return"";const n=[];let t=[];const i=o(()=>{t.length&&n.push(`{ ${t.join(`,
`)}}`),t=[]},"drainProperties");for(const a of e.forEachChildAsArray())if(f.isSpreadAssignment(a)){i();const s=a.getChildAtIndex(1);x(s)?n.push(s.getText()):n.push(`() => ${s.getText()}`)}else if(f.isPropertyAssignment(a)){const s=a.getInitializer();let m;f.isObjectLiteralExpression(s)?m=j(s):m=s?.getText()??"undefined",s&&x(s)?t.push(`${a.getName()}: ${m}`):t.push(`get ${a.getName()}() { return ${m} }`)}else if(f.isShorthandPropertyAssignment(a)){const s=a.getName();t.push(`${s}: ${s}`)}else t.push(a.getText());const r=!!n.length;return i(),r?(e.getSourceFile().addImportDeclaration({namedImports:["mergeProps"],moduleSpecifier:"solid-js"}),`mergeProps(${n.join(", ")})`):n[0]??"{}"}o(j,"getSpreadAsignment");function Ce(e,n={scopes:["component-top-level","jsx"]}){e.wasForgotten()||!N(e,n.scopes)||e.replaceWithText(j(e))}o(Ce,"replaceSpreadAsignment");const Ae={Fragment:pe,Context:oe,createContext:le,ReactElement:he,ElementType:ce,memo:Se,ReactNode:xe,Ref:ye,useCallback:Le,useContext:Me,useState:Ke,JSXElementConstructor:Te,useMemo:Fe,forwardRef:de,useEffect:v,useLayoutEffect:He},be={className:se,key:X};function Ge(e){const n=_(e);for(const t of n){if(t.node.wasForgotten())continue;let i=Ae[t.name];i||(t.name.endsWith("EventHandler")?i=me:t.name.endsWith("Event")?i=fe:t.name.endsWith("HTMLAttributes")&&(i=Ee)),i?.(t.node)}Z(e),z(e),U(e),w(e).forEach(t=>ae(t)),k(e).forEach(t=>Ce(t)),W(e).forEach(t=>{const i=t.getName();be[i]?.(t)}),J(e),q(e)}o(Ge,"transformReactSource");export{Ge as default};
