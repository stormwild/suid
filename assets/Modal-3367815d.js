var H=Object.defineProperty;var i=(t,o)=>H(t,"name",{value:o,configurable:!0});import{B as W}from"./Backdrop-a8bde6a1.js";import{O,P as U,I as T,h as v,o as z,m as N,c as u,S as P,a5 as E,p as f,J as $,j as Y,R as A,D as j}from"./ErrorPage-50341dca.js";import{P as q}from"./Portal-91fefddd.js";import{T as J}from"./TransitionContext-f48b0a64.js";import{n as F,h as X}from"./ListItemText-0fefb047.js";import{o as g}from"./ownerDocument-5bb7a871.js";import{o as y}from"./ownerWindow-09898c5b.js";function G(t){const o=t.documentElement.clientWidth;return Math.abs(window.innerWidth-o)}i(G,"getScrollbarSize");function Q(t){const o=g(t);return o.body===t?y(t).innerWidth>o.documentElement.clientWidth:t.scrollHeight>t.clientHeight}i(Q,"isOverflowing");function p(t,o){o?t.setAttribute("aria-hidden","true"):t.removeAttribute("aria-hidden")}i(p,"ariaHidden");function S(t){return parseInt(y(t).getComputedStyle(t).paddingRight,10)||0}i(S,"getPaddingRight");function B(t,o,n=[],s){const e=[o,...n],r=["TEMPLATE","SCRIPT","STYLE"];[].forEach.call(t.children,a=>{e.indexOf(a)===-1&&r.indexOf(a.tagName)===-1&&p(a,s)})}i(B,"ariaHiddenSiblings");function k(t,o){let n=-1;return t.some((s,e)=>o(s)?(n=e,!0):!1),n}i(k,"findIndexOf");function V(t,o){const n=[],s=t.container;if(!o.disableScrollLock){if(Q(s)){const m=G(g(s));n.push({value:s.style.paddingRight,property:"padding-right",el:s}),s.style.paddingRight=`${S(s)+m}px`;const h=g(s).querySelectorAll(".mui-fixed");[].forEach.call(h,d=>{n.push({value:d.style.paddingRight,property:"padding-right",el:d}),d.style.paddingRight=`${S(d)+m}px`})}const r=s.parentElement,a=y(s),l=r?.nodeName==="HTML"&&a.getComputedStyle(r).overflowY==="scroll"?r:s;n.push({value:l.style.overflow,property:"overflow",el:l},{value:l.style.overflowX,property:"overflow-x",el:l},{value:l.style.overflowY,property:"overflow-y",el:l}),l.style.overflow="hidden"}return i(()=>{n.forEach(({value:r,el:a,property:l})=>{r?a.style.setProperty(l,r):a.style.removeProperty(l)})},"restore")}i(V,"handleContainer");function Z(t){const o=[];return[].forEach.call(t.children,n=>{n.getAttribute("aria-hidden")==="true"&&o.push(n)}),o}i(Z,"getHiddenSiblings");class D{constructor(){this.modals=[],this.containers=[]}add(o,n){let s=this.modals.findIndex(a=>a.ref===o.ref);if(s!==-1)return s;s=this.modals.length,this.modals.push(o),p(o.ref,!1);const e=Z(n);B(n,o.ref,e,!0);const r=k(this.containers,a=>a.container===n);return r!==-1?(this.containers[r].modals.push(o),s):(this.containers.push({modals:[o],container:n,restore:null,hiddenSiblings:e}),s)}mount(o,n){const s=k(this.containers,r=>!!r.modals.find(a=>a.ref===o.ref)),e=this.containers[s];e.restore||(e.restore=V(e,n))}remove(o){const n=this.modals.findIndex(r=>r.ref===o.ref);if(n===-1)return n;const s=k(this.containers,r=>!!r.modals.find(a=>a.ref===o.ref)),e=this.containers[s];if(e.modals.splice(e.modals.findIndex(r=>r.ref===o.ref),1),this.modals.splice(n,1),e.modals.length===0)e.restore&&e.restore(),p(o.ref,!0),B(e.container,o.ref,e.hiddenSiblings,!1),this.containers.splice(s,1);else{const r=e.modals[e.modals.length-1];p(r.ref,!1)}return n}isTopModal(o){return this.modals.length>0&&this.modals[this.modals.length-1].ref===o.ref}}i(D,"ModalManager");function _(t){return U("MuiModal",t)}i(_,"getModalUtilityClass");O("MuiModal",["root","hidden"]);const ee=T()({name:"ModalUnstyled",propDefaults:({set:t})=>t({closeAfterTransition:!1,component:"div",components:{},componentsProps:{},disableAutoFocus:!1,disableEnforceFocus:!1,disableEscapeKeyDown:!1,disablePortal:!1,disableRestoreFocus:!1,disableScrollLock:!1,hideBackdrop:!1,keepMounted:!1,open:!1}),selfPropNames:["BackdropComponent","BackdropProps","children","classes","closeAfterTransition","components","componentsProps","container","disableAutoFocus","disableEnforceFocus","disableEscapeKeyDown","disablePortal","disableRestoreFocus","disableScrollLock","hideBackdrop","keepMounted","onBackdropClick","onClose","open","transition"],utilityClass:_,slotClasses:t=>({root:["root",!t.open&&t.exited&&"hidden"]})});function oe(t){return typeof t=="function"?t():t}i(oe,"getContainer");const te=new D,ne=ee.component(i(function({allProps:o,otherProps:n,classes:s,props:e}){const r=X(n),a=te,l=i(()=>g(r.ref),"getDoc"),[m,h]=v(!0),d=i(()=>{a.mount(r,{disableScrollLock:e.disableScrollLock}),r.ref.scrollTop=0},"handleMounted"),M=i(()=>{const c=oe(e.container)||l().body;a.add(r,c),r.ref&&d()},"handleOpen"),C=i(()=>a.isTopModal(r),"isTopModal"),b=i(()=>a.remove(r),"handleClose");z(b),N(c=>(c?(e.open&&M(),e.open&&C()?d():r.ref&&p(r.ref,!0)):e.open?M():(!e.transition||!e.closeAfterTransition)&&b(),!1),!0);const I=i(c=>{c.target===c.currentTarget&&(e.onBackdropClick?.(c),e.onClose?.(c,"backdropClick"))},"handleBackdropClick"),K=i(c=>{typeof n.onKeyDown=="function"&&n.onKeyDown?.(c),!(c.key!=="Escape"||!C())&&(e.disableEscapeKeyDown||(c.stopPropagation(),e.onClose?.(c,"escapeKeyDown")))},"handleKeyDown"),w=i(()=>e.components.Root||n.component,"Root"),x=i(()=>e.componentsProps.root||{},"rootProps"),L=i(()=>!e.keepMounted&&!e.open&&(!e.transition||m()),"noMount");return u(J.Provider,{value:{get in(){return!!e.transition&&e.open},onEnter:()=>{e.transition&&h(!1)},onExited:()=>{e.transition&&(h(!0),e.closeAfterTransition&&b())}},get children(){return u(P,{get when(){return!L()},get children(){return u(q,{get container(){return e.container},get disablePortal(){return e.disablePortal},get children(){return u(E,f(n,{get component(){return w()},role:"presentation"},x,()=>!F(w())&&{ownerState:o},{onKeyDown:K,get class(){return $(s.root,x().class,n.class)},ref:r,get children(){return[u(P,{get when(){return!e.hideBackdrop&&!!e.BackdropComponent},get children(){return u(E,f({get component(){return e.BackdropComponent},get open(){return e.open},onClick:I},()=>e.BackdropProps??{}))}}),Y(()=>e.children)]}}))}})}})}})},"ModalUnstyled")),R=T()({name:"MuiModal",selfPropNames:["BackdropComponent","BackdropProps"]}),re=A("div",{name:"MuiModal",slot:"Root",overridesResolver:(t,o)=>{const{ownerState:n}=t;return[o.root,!n.open&&n.exited&&o.hidden]}})(({theme:t,ownerState:o})=>({position:"fixed",zIndex:t.zIndex.modal,right:0,bottom:0,top:0,left:0,...!o.open&&o.exited&&{visibility:"hidden"}})),se=A(W,{name:"MuiModal",slot:"Backdrop",overridesResolver:(t,o)=>o.backdrop})({zIndex:-1}),me=R.defineComponent(i(function(o){const n=R.useThemeProps({props:o}),[,s]=j(n,["BackdropComponent","closeAfterTransition","children","components","componentsProps","disableAutoFocus","disableEnforceFocus","disableEscapeKeyDown","disablePortal","disableRestoreFocus","disableScrollLock","hideBackdrop","keepMounted"]),e=f({BackdropComponent:se,closeAfterTransition:!1,components:{},componentsProps:{},disableAutoFocus:!1,disableEnforceFocus:!1,disableEscapeKeyDown:!1,disablePortal:!1,disableRestoreFocus:!1,disableScrollLock:!1,hideBackdrop:!1,keepMounted:!1},n),[r]=v(!0),a={get closeAfterTransition(){return e.closeAfterTransition},get disableAutoFocus(){return e.disableAutoFocus},get disableEnforceFocus(){return e.disableEnforceFocus},get disableEscapeKeyDown(){return e.disableEscapeKeyDown},get disablePortal(){return e.disablePortal},get disableRestoreFocus(){return e.disableRestoreFocus},get disableScrollLock(){return e.disableScrollLock},get hideBackdrop(){return e.hideBackdrop},get keepMounted(){return e.keepMounted}},l=f(n,a,{get exited(){return r()}});return u(ne,f({get components(){return f({Root:re},()=>e.components)},componentsProps:{get root(){return f(()=>e.componentsProps.root||{},()=>(!e.components.Root||!F(e.components.Root))&&{get ownerState(){return e.componentsProps.root?.ownerState||{}}}||{})}},get BackdropComponent(){return e.BackdropComponent}},s,{get classes(){return l.classes}},a,{get children(){return n.children}}))},"Modal"));export{me as M};
