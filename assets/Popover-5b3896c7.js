var G=Object.defineProperty;var s=(t,r)=>G(t,"name",{value:r,configurable:!0});import{G as Y}from"./Grow-1a20d835.js";import{M as F}from"./Modal-e713f131.js";import{P as J}from"./Paper-154b1d70.js";import{O as N,P as V,I as X,R as $,D as b,p as f,m as x,x as q,c as P,J as M}from"./ErrorPage-e9c3e4c4.js";import{r as K}from"./ListItemText-90f79698.js";import{d as Q}from"./debounce-60370e19.js";import{o as D}from"./ownerDocument-5bb7a871.js";import{o as z}from"./ownerWindow-09898c5b.js";function Z(t){return V("MuiPopover",t)}s(Z,"getPopoverUtilityClass");N("MuiPopover",["root","paper"]);const v=X()({name:"MuiPopover",selfPropNames:["action","anchorEl","anchorOrigin","anchorPosition","anchorReference","children","classes","container","elevation","marginThreshold","onClose","open","PaperProps","transformOrigin","TransitionComponent","transitionDuration","TransitionProps"],utilityClass:Z,slotClasses:()=>({root:["root"],paper:["paper"]})});function W(t,r){let o=0;return typeof r=="number"?o=r:r==="center"?o=t.height/2:r==="bottom"&&(o=t.height),o}s(W,"getOffsetTop");function S(t,r){let o=0;return typeof r=="number"?o=r:r==="center"?o=t.width/2:r==="right"&&(o=t.width),o}s(S,"getOffsetLeft");function U(t){return[t.horizontal,t.vertical].map(r=>typeof r=="number"?`${r}px`:r).join(" ")}s(U,"getTransformOriginValue");function m(t){return typeof t=="function"?t():t}s(m,"resolveAnchorEl");const _=$(F,{name:"MuiPopover",slot:"Root",overridesResolver:(t,r)=>r.root})({}),oo=$(J,{name:"MuiPopover",slot:"Paper",overridesResolver:(t,r)=>r.paper})({position:"absolute",overflowY:"auto",overflowX:"hidden",minWidth:16,minHeight:16,maxWidth:"calc(100% - 32px)",maxHeight:"calc(100% - 32px)",outline:0}),lo=v.defineComponent(s(function(r){const o=v.useThemeProps({props:r}),[,A]=b(o,["action","anchorEl","anchorOrigin","anchorPosition","anchorReference","children","class","container","elevation","marginThreshold","open","PaperProps","transformOrigin","TransitionComponent","transitionDuration","TransitionProps"]),e=f({anchorOrigin:{vertical:"top",horizontal:"left"},anchorReference:"anchorEl",elevation:8,marginThreshold:16,PaperProps:{},transformOrigin:{vertical:"top",horizontal:"left"},TransitionComponent:Y,transitionDuration:"auto"},o),[,T]=b(f(()=>o.TransitionProps||{}),["onEntering"]),d=K(()=>e.PaperProps.ref),O=f(o,{get anchorOrigin(){return e.anchorOrigin},get anchorReference(){return e.anchorReference},get elevation(){return e.elevation},get marginThreshold(){return e.marginThreshold},get PaperProps(){return e.PaperProps},get transformOrigin(){return e.transformOrigin},get TransitionComponent(){return e.TransitionComponent},get transitionDuration(){return e.transitionDuration},TransitionProps:T}),y=v.useClasses(O),H=s(()=>{if(e.anchorReference==="anchorPosition")return o.anchorPosition||console.error('MUI: You need to provide a `anchorPosition` prop when using <Popover anchorReference="anchorPosition" />.'),o.anchorPosition;const n=m(o.anchorEl),i=n&&n.nodeType===1?n:D(d.current).body,a=i.getBoundingClientRect();{const p=i.getBoundingClientRect();p.top===0&&p.left===0&&p.right===0&&p.bottom===0&&console.warn(["MUI: The `anchorEl` prop provided to the component is invalid.","The anchor element should be part of the document layout.","Make sure the element is present in the document or that it's not display none."].join(`
`))}return{top:a.top+W(a,e.anchorOrigin.vertical),left:a.left+S(a,e.anchorOrigin.horizontal)}},"getAnchorOffset"),I=s(n=>({vertical:W(n,e.transformOrigin.vertical),horizontal:S(n,e.transformOrigin.horizontal)}),"getTransformOrigin"),j=s(n=>{const i={width:n.offsetWidth,height:n.offsetHeight},a=I(i);if(e.anchorReference==="none")return{top:null,left:null,transformOrigin:U(a)};const p=H();let l=p.top-a.vertical,h=p.left-a.horizontal;const C=l+i.height,E=h+i.width,R=z(m(o.anchorEl)),g=R.innerHeight-e.marginThreshold,w=R.innerWidth-e.marginThreshold;if(l<e.marginThreshold){const c=l-e.marginThreshold;l-=c,a.vertical+=c}else if(C>g){const c=C-g;l-=c,a.vertical+=c}if(i.height>g&&i.height&&g&&console.error(["MUI: The popover component is too tall.",`Some part of it can not be seen on the screen (${i.height-g}px).`,"Please consider adding a `max-height` to improve the user-experience."].join(`
`)),h<e.marginThreshold){const c=h-e.marginThreshold;h-=c,a.horizontal+=c}else if(E>w){const c=E-w;h-=c,a.horizontal+=c}return{top:`${Math.round(l)}px`,left:`${Math.round(h)}px`,transformOrigin:U(a)}},"getPositioningStyle"),u=s(()=>{const n=d.current;if(!n)return;const i=j(n);i.top!==null&&(n.style.top=i.top),i.left!==null&&(n.style.left=i.left),n.style.transformOrigin=i.transformOrigin},"setPositioningStyles"),B=s(()=>{o.TransitionProps?.onEntering&&o.TransitionProps?.onEntering(),u()},"handleEntering");x(()=>{o.open&&u()}),typeof o.action=="function"&&o.action({updatePosition:()=>{o.open&&u()}}),x(q(()=>[o.anchorEl,o.open,u],()=>{if(!o.open)return;const n=Q(()=>{u()}),i=z(m(o.anchorEl));return i.addEventListener("resize",n),()=>{n.clear(),i.removeEventListener("resize",n)}}));const L=s(()=>{let n=e.transitionDuration;return e.transitionDuration==="auto"&&!e.TransitionComponent.muiSupportAuto&&(n=void 0),n},"transitionDuration"),k=s(()=>o.container||(o.anchorEl?D(m(o.anchorEl)).body:void 0),"container");return P(_,f({BackdropProps:{invisible:!0},get class(){return M(y.root,o.class)},get container(){return k()},get open(){return o.open},ownerState:O},A,{get children(){return P(e.TransitionComponent,f({appear:!0,get in(){return o.open},onEntering:B,get timeout(){return L()}},T,{get children(){return P(oo,f({get elevation(){return e.elevation}},()=>e.PaperProps,{ref:d,get class(){return M(y.paper,e.PaperProps.class)},get children(){return o.children}}))}}))}}))},"Popover"));export{lo as P};
