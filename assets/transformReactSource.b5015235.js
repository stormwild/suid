var w=Object.defineProperty;var o=(e,n)=>w(e,"name",{value:n,configurable:!0});import{ts as l,Node as m}from"https://esm.sh/ts-morph@^16.0.0?pin=v94";function W(e,n){const t=e.getDescendantsOfKind(l.SyntaxKind.JsxAttribute);return n?t.filter(i=>n.includes(i.getName())):t}o(W,"findJSXAttrs");function k(e){return e.getDescendantsOfKind(l.SyntaxKind.ObjectBindingPattern)}o(k,"findObjectBindingPatterns");function _(e){return e.getDescendantsOfKind(l.SyntaxKind.ObjectLiteralExpression)}o(_,"findObjectLiteralExpressions");function g(e){const n=e.getParentWhileKind(l.SyntaxKind.QualifiedName);if(n)return n;const t=e.getParentWhileKind(l.SyntaxKind.TypeReference);if(t)return t;const i=e.getParentWhileKind(l.SyntaxKind.PropertyAccessExpression);return i||e}o(g,"getParentExpr");function J(e,n){const t=e.getImportDeclaration("react"),i=[],r=o(a=>{const s=a.getText();(!n||n.includes(s))&&i.push({name:s,node:a})},"push");if(t){const a=t.getNamespaceImport(),s=t.getNamedImports();for(const f of s){const c=f.getFirstChildByKind(l.SyntaxKind.Identifier);if(c)for(const d of c.findReferencesAsNodes())d!==c&&m.isIdentifier(d)&&r(d)}if(a)for(const f of a.findReferencesAsNodes()){if(f.getFirstAncestorByKind(l.SyntaxKind.NamespaceImport))continue;const d=g(f)?.getLastChildByKind(l.SyntaxKind.Identifier);d&&r(d)}}return i}o(J,"findReactObjects");function y(e,n){e.includes(n)||e.push(n)}o(y,"add");function U(e){const n=e.getImportDeclarations(),t={};for(const i of n){const r=i.getModuleSpecifier().getLiteralText();t[r]||(t[r]={nodes:[],withoutFrom:!0,named:[],defaults:[],namespaces:[]}),t[r].nodes.push(i);for(const f of i.getNamedImports())t[r].withoutFrom=!1,y(t[r].named,f.getText());const a=i.getDefaultImport();a&&(t[r].withoutFrom=!1,y(t[r].defaults,a.getText()));const s=i.getNamespaceImport();s&&(t[r].withoutFrom=!1,y(t[r].namespaces,s.getText()))}for(const i in t){const r=t[i];r.withoutFrom&&e.addImportDeclaration({moduleSpecifier:i}),r.named.length&&e.addImportDeclaration({moduleSpecifier:i,namedImports:r.named});for(const a of r.defaults)e.addImportDeclaration({moduleSpecifier:i,defaultImport:a});for(const a of r.namespaces)e.addImportDeclaration({moduleSpecifier:i,namespaceImport:a});for(const a of r.nodes)a.remove()}}o(U,"groupImports");function z(e){const n=e.getImportDeclarations();for(const i of n)i.getModuleSpecifier().getLiteralText()==="prop-types"&&i.remove();const t=e.getChildrenOfKind(l.SyntaxKind.ExpressionStatement);for(const i of t)i.getFirstChildByKind(l.SyntaxKind.BinaryExpression)?.getFirstChildByKind(l.SyntaxKind.PropertyAccessExpression)?.getLastChildByKind(l.SyntaxKind.Identifier)?.getText()==="propTypes"&&i.remove()}o(z,"removePropTypes");function X(e){const n=e.getImportDeclarations();for(const t of n)t.getModuleSpecifier().getLiteralText()==="react"&&t.remove()}o(X,"removeReactImports");function q(e){e.remove()}o(q,"removeReactKeyAttr");function Q(e){const n=e.getImportDeclarations();for(const t of n){const i=t.getDefaultImport(),r=t.getNamedImports(),a=t.getNamespaceImport();let s=0;i?.findReferencesAsNodes().length===1&&(t.removeDefaultImport(),s++);for(const f of r)(f.getAliasNode()||f.getNameNode()).findReferencesAsNodes().length===1&&(f.remove(),s++);a?.findReferencesAsNodes().length===1&&(t.removeNamespaceImport(),s++),s&&!t.getDefaultImport()&&!t.getNamedImports().length&&!t.getNamespaceImport()&&t.remove()}}o(Q,"removeUnusedImports");const Y={"@mui/base":[/.+/]},Z={"@mui/base/isHostComponent":"@suid/base/utils/isHostComponent"};function A(e){return e.replace(/^@mui/,"@suid")}o(A,"replace");function ee(e){for(const n of e.getImportDeclarations()){const t=n.getModuleSpecifier(),i=t.getLiteralText(),r=Y[i];if(r){const a=n.getNamedImports(),s=[];for(const f of a){const c=f.getName();if(r.some(p=>p.exec(c))){const p=`${i}/${c}`;e.addImportDeclaration({moduleSpecifier:A(Z[p]||p),defaultImport:f.getAliasNode()?.getText()||f.getName()}),s.push(f)}}if(s.length&&s.length===a.length&&!n.getDefaultImport()&&!n.getNamespaceImport()){n.remove();continue}else s.forEach(f=>f.remove())}i.startsWith("@mui/")&&t.setLiteralValue(A(i))}}o(ee,"renameMuiImports");function te(e){return e.charAt(0).toUpperCase()+e.slice(1)}o(te,"capitalize");function ne(e){if(m.isCallExpression(e)){const n=e.getFirstDescendantByKind(l.SyntaxKind.PropertyAccessExpression)?.getText();return n==="React.cloneElement"||n==="React.createElement"}else return!1}o(ne,"isReactComponentNode");function ie(e){let n;return e.getParentWhile(t=>{if(m.isFunctionDeclaration(t)||m.isFunctionExpression(t)){const i=t.getBody()?.getChildrenOfKind(l.SyntaxKind.ReturnStatement);for(const r of i||[]){const s=(r.getChildAtIndexIfKind(1,l.SyntaxKind.ParenthesizedExpression)||r).getChildAtIndex(1);if(m.isJsxFragment(s)||m.isJsxElement(s)||m.isJsxSelfClosingElement(s)||ne(s))return n=t,!1}}return!0}),n}o(ie,"getAncestorComponent");function re(e){return!!e.getFirstAncestorByKind(l.SyntaxKind.JsxElement)}o(re,"hasAncestorJSX");function D(e,n){if(!n||n.includes("jsx")&&re(e))return!0;if(n.includes("component")||n.includes("component-top-level")){const t=ie(e);return t?n.includes("component-top-level")?e.getFirstAncestor(r=>m.isFunctionDeclaration(r)||m.isFunctionExpression(r)||m.isArrowFunction(r))===t:!0:!1}return!1}o(D,"checkNodeScope");function S(e){if(m.isObjectLiteralExpression(e)||m.isArrayLiteralExpression(e)){for(const n of e.forEachChildAsArray())if(m.isPropertyAssignment(n)){const t=n.getInitializer();if(t&&!S(t))return!1}else if(!S(n))return!1;return!0}return m.isTrueLiteral(e)||m.isFalseLiteral(e)||m.isUndefinedKeyword(e)||m.isNullLiteral(e)||m.isNumericLiteral(e)||m.isStringLiteral(e)||m.isIdentifier(e)}o(S,"isStaticValue");function ae(e){let n=!1;return e.getParentWhile(t=>m.isTypeAliasDeclaration(t)||m.isInterfaceDeclaration(t)||m.isTypeLiteral(t)?(n=!0,!1):!0),n}o(ae,"hasAncestorType");function H(e,n,t=!0){for(const i of e.findReferencesAsNodes()){if(t&&e===i||ae(i))continue;const r=i.getParent();m.isShorthandPropertyAssignment(r)?r.replaceWithText(`${e.getText()}: ${n}`):m.isIdentifier(i)&&i.replaceWithText(n)}}o(H,"renameIdentifiers");function I(e,n){const t=e.rename||e.nameNode;m.isIdentifier(t)&&H(t,m.isStringLiteral(e.nameNode)?`${n}[${e.nameNode.getText()}]`:`${n}.${e.nameNode.getText()}`)}o(I,"renameObjectBinding");function $(e){const n=[];for(const t of e.getChildrenOfKind(l.SyntaxKind.BindingElement)){const i=!!t.getChildAtIndexIfKind(0,l.SyntaxKind.DotDotDotToken),r=t.getChildAtIndex(i?1:0);if(!m.isIdentifier(r)&&!m.isStringLiteral(r))throw new Error("Invalid name node");const a={name:r.getText(),nameNode:r,rest:i};n.push(a);const s=t.getFirstChildByKind(l.SyntaxKind.EqualsToken);s&&(a.defaults=t.getChildAtIndex(s.getChildIndex()+1));const f=t.getFirstChildByKind(l.SyntaxKind.ColonToken);if(f){const c=t.getChildAtIndex(f.getChildIndex()+1);m.isObjectBindingPattern(c)?a.destruct=$(c):m.isIdentifier(c)&&(a.rename=c)}}return n}o($,"toJson");function b(e,n=!0){return e.endsWith("?")&&(e=e.slice(0,-1)+" || {}"),n&&e.includes(".")&&(n&&(e=`() => ${e}`),n==="withMergeProps"&&(e=`mergeProps(${e})`)),e}o(b,"safePropName");function v(e,n){const t=[],i=[],r=n.find(c=>c.rest);if(r){const c=r.name,d=JSON.stringify(n.filter(p=>!p.rest).map(p=>p.name));i.push("splitProps"),t.push(`const [, ${c}] = splitProps(${b(e,"withMergeProps")}, ${d});`),m.isIdentifier(r.nameNode)&&H(r.nameNode,c)}const a=n.filter(c=>c.defaults&&!c.destruct);if(a.length){const c=`base${te(e)}`.replaceAll(".","_").replaceAll("?",""),p=`{
${a.reduce((E,T)=>(T.defaults&&S(T.defaults)?E+=`${T.name}: ${T.defaults?.getText()},
`:E+=`get ${T.name}() { return ${T.defaults?.getText()}; }
`,E),"")}}`;i.push("mergeProps"),t.push(`const ${c} = mergeProps(${p}, ${b(e)});
`);for(const E of a)I(E,c)}const s=n.filter(c=>c.destruct);if(s.length)for(const c of s){const d=c.defaults?.getText().trim().startsWith("{"),p=v(`${e}.${c.name}${d?"?":""}`,c.destruct);i.push(...p.solidNamedImports.filter(E=>!i.includes(E))),t.push(...p.sentences)}const f=n.filter(c=>!c.rest&&!c.destruct&&!c.defaults);for(const c of f)I(c,e);return{sentences:t,solidNamedImports:i}}o(v,"generateSentences");function se(e,n={scopes:["component-top-level","jsx"]}){if(e.wasForgotten()||!D(e,n.scopes))return;const t=e.getParent();let i;const r=$(e);if(m.isParameterDeclaration(t)){const s=(t.getParentIfKind(l.SyntaxKind.FunctionExpression)||t.getParentIfKind(l.SyntaxKind.FunctionDeclaration)||t.getParentIfKind(l.SyntaxKind.ArrowFunction))?.getParameters(),f=s?.indexOf(t);i=s?.length===1?"params":`params_${f}`}else if(t.getKind()===l.SyntaxKind.VariableDeclaration){const a=t.getChildAtIndex(2);if(a.getKind()===l.SyntaxKind.Identifier)i=a.getText();else return}else return;if(t.getKind()===l.SyntaxKind.Parameter){for(const a of r)I(a,i);t.replaceWithText(i)}else if(t.getKind()===l.SyntaxKind.VariableDeclaration){const{sentences:a,solidNamedImports:s}=v(i,r);s.length&&t.getSourceFile().addImportDeclaration({moduleSpecifier:"solid-js",namedImports:s}),t.getFirstAncestorByKind(l.SyntaxKind.VariableStatement)?.replaceWithText(a.join(`

`))}}o(se,"replaceObjectBinding");function oe(e){e.rename("class")}o(oe,"replaceReactClassNameAttr");function u(e,n,t){const i=g(e);t?("namespaceImport"in t?i.replaceWithText(`${t.namespaceImport}.${n}`):"namespaceNamedImport"in t?i.replaceWithText(`${t.namespaceNamedImport}.${n}`):"namedImport"in t&&i.replaceWithText(`${n}`),e.getSourceFile().addImportDeclaration({moduleSpecifier:t.moduleSpecifier,..."namespaceImport"in t&&{namespaceImport:t.namespaceImport},..."namespaceNamedImport"in t&&{namespaceImport:t.namespaceNamedImport},..."namedImport"in t&&{namedImports:[t.namedImport]}})):i.replaceWithText(n)}o(u,"renameExpr");function le(e){u(e,"Context",{moduleSpecifier:"solid-js",namedImport:"Context"})}o(le,"replaceReactContext");function ce(e){u(e,"createContext",{moduleSpecifier:"solid-js",namedImport:"createContext"})}o(ce,"replaceReactCreateContext");function me(e){const n=g(e).getParentIfKind(l.SyntaxKind.TypeReference);n&&n.getChildren().length>1?u(e,"Component",{moduleSpecifier:"solid-js",namedImport:"Component"}):u(e,"ElementType",{moduleSpecifier:"@suid/types",namespaceImport:"ST"})}o(me,"replaceReactElementType");function fe(e){const n=e.getText();u(e,n,{moduleSpecifier:"@suid/types",namespaceImport:"ST"})}o(fe,"replaceReactEventHandlers");function de(e){const n=e.getText();n==="ChangeEvent"?u(e,n,{moduleSpecifier:"@suid/types",namespaceImport:"ST"}):u(e,n)}o(de,"replaceReactEvents");function h(e,n,t){const i=e;i.__replacePatterns||(i.__replacePatterns={}),i.__replacePatterns[n]=t}o(h,"addReplacePattern");const N=`__EMPTY__${Date.now()}`;function pe(e){const n=g(e),t=n.getParentIfKind(l.SyntaxKind.CallExpression);if(t){const[i]=t.getArguments();if(m.isFunctionExpression(i)||m.isArrowFunction(i)){const r=i.getParameters();let a,s,f=0;for(const c of r)f?f===1&&(s=c.getText()):a=c.getText(),f>0&&c.remove(),f++;s&&(i.insertStatements(0,`const ${s} = createRef(${a});`),e.getSourceFile().addImportDeclaration({moduleSpecifier:"@suid/system/createRef",defaultImport:"createRef"}))}h(e.getSourceFile(),N,""),n.replaceWithText(N)}}o(pe,"replaceReactForwardRef");const R=`__EMPTY__${Date.now()}`;function ue(e){const n=e.getFirstAncestorByKind(l.SyntaxKind.JsxElement);h(e.getSourceFile(),R,""),n?.set({name:R})}o(ue,"replaceReactFragment");function ge(e){return e.charAt(0).toLowerCase()+e.slice(1)}o(ge,"uncapitalize");const{factory:x}=l,V={a:"HTMLAnchorElement",abbr:"HTMLElement",address:"HTMLElement",area:"HTMLAreaElement",article:"HTMLElement",aside:"HTMLElement",audio:"HTMLAudioElement",b:"HTMLElement",base:"HTMLBaseElement",bdi:"HTMLElement",bdo:"HTMLElement",big:"HTMLElement",blockquote:"HTMLElement",body:"HTMLBodyElement",br:"HTMLBRElement",button:"HTMLButtonElement",canvas:"HTMLCanvasElement",caption:"HTMLElement",cite:"HTMLElement",code:"HTMLElement",col:"HTMLTableColElement",colgroup:"HTMLTableColElement",data:"HTMLElement",datalist:"HTMLDataListElement",dd:"HTMLElement",del:"HTMLElement",details:"HTMLDetailsElement",dfn:"HTMLElement",dialog:"HTMLElement",div:"HTMLDivElement",dl:"HTMLDListElement",dt:"HTMLElement",em:"HTMLElement",embed:"HTMLEmbedElement",fieldset:"HTMLFieldSetElement",figcaption:"HTMLElement",figure:"HTMLElement",footer:"HTMLElement",form:"HTMLFormElement",h1:"HTMLHeadingElement",h2:"HTMLHeadingElement",h3:"HTMLHeadingElement",h4:"HTMLHeadingElement",h5:"HTMLHeadingElement",h6:"HTMLHeadingElement",head:"HTMLHeadElement",header:"HTMLElement",hgroup:"HTMLElement",hr:"HTMLHRElement",html:"HTMLHtmlElement",i:"HTMLElement",iframe:"HTMLIFrameElement",img:"HTMLImageElement",input:"HTMLInputElement",ins:"HTMLModElement",kbd:"HTMLElement",keygen:"HTMLElement",label:"HTMLLabelElement",legend:"HTMLLegendElement",li:"HTMLLIElement",link:"HTMLLinkElement",main:"HTMLElement",map:"HTMLMapElement",mark:"HTMLElement",menu:"HTMLElement",menuitem:"HTMLElement",meta:"HTMLMetaElement",meter:"HTMLElement",nav:"HTMLElement",noindex:"HTMLElement",noscript:"HTMLElement",object:"HTMLObjectElement",ol:"HTMLOListElement",optgroup:"HTMLOptGroupElement",option:"HTMLOptionElement",output:"HTMLElement",p:"HTMLParagraphElement",param:"HTMLParamElement",picture:"HTMLElement",pre:"HTMLPreElement",progress:"HTMLProgressElement",q:"HTMLQuoteElement",rp:"HTMLElement",rt:"HTMLElement",ruby:"HTMLElement",s:"HTMLElement",samp:"HTMLElement",script:"HTMLElement",section:"HTMLElement",select:"HTMLSelectElement",small:"HTMLElement",source:"HTMLSourceElement",span:"HTMLSpanElement",strong:"HTMLElement",style:"HTMLStyleElement",sub:"HTMLElement",summary:"HTMLElement",sup:"HTMLElement",table:"HTMLTableElement",tbody:"HTMLTableSectionElement",td:"HTMLTableDataCellElement",textarea:"HTMLTextAreaElement",tfoot:"HTMLTableSectionElement",th:"HTMLTableHeaderCellElement",thead:"HTMLTableSectionElement",time:"HTMLElement",title:"HTMLTitleElement",tr:"HTMLTableRowElement",track:"HTMLTrackElement",u:"HTMLElement",ul:"HTMLUListElement",var:"HTMLElement",video:"HTMLVideoElement",wbr:"HTMLElement",svg:"SVGSVGElement",animate:"SVGAnimateElement",animateMotion:"SVGAnimateMotionElement",animateTransform:"SVGAnimateTransformElement",circle:"SVGCircleElement",clipPath:"SVGClipPathElement",defs:"SVGDefsElement",desc:"SVGDescElement",ellipse:"SVGEllipseElement",feBlend:"SVGFEBlendElement",feColorMatrix:"SVGFEColorMatrixElement",feComponentTransfer:"SVGFEComponentTransferElement",feComposite:"SVGFECompositeElement",feConvolveMatrix:"SVGFEConvolveMatrixElement",feDiffuseLighting:"SVGFEDiffuseLightingElement",feDisplacementMap:"SVGFEDisplacementMapElement",feDistantLight:"SVGFEDistantLightElement",feFlood:"SVGFEFloodElement",feFuncA:"SVGFEFuncAElement",feFuncB:"SVGFEFuncBElement",feFuncG:"SVGFEFuncGElement",feFuncR:"SVGFEFuncRElement",feGaussianBlur:"SVGFEGaussianBlurElement",feImage:"SVGFEImageElement",feMerge:"SVGFEMergeElement",feMergeNode:"SVGFEMergeNodeElement",feMorphology:"SVGFEMorphologyElement",feOffset:"SVGFEOffsetElement",fePointLight:"SVGFEPointLightElement",feSpecularLighting:"SVGFESpecularLightingElement",feSpotLight:"SVGFESpotLightElement",feTile:"SVGFETileElement",feTurbulence:"SVGFETurbulenceElement",filter:"SVGFilterElement",foreignObject:"SVGForeignObjectElement",g:"SVGGElement",image:"SVGImageElement",line:"SVGLineElement",linearGradient:"SVGLinearGradientElement",marker:"SVGMarkerElement",mask:"SVGMaskElement",metadata:"SVGMetadataElement",path:"SVGPathElement",pattern:"SVGPatternElement",polygon:"SVGPolygonElement",polyline:"SVGPolylineElement",radialGradient:"SVGRadialGradientElement",rect:"SVGRectElement",stop:"SVGStopElement",switch:"SVGSwitchElement",symbol:"SVGSymbolElement",text:"SVGTextElement",textPath:"SVGTextPathElement",tspan:"SVGTSpanElement",use:"SVGUseElement",view:"SVGViewElement"};function Ee(e){for(const n in V)if(V[n]===e)return n}o(Ee,"findTag");function Te(e){const n=g(e),i=n?.getParentIfKind(l.SyntaxKind.TypeReference)?.getLastChildByKind(l.SyntaxKind.TypeReference);if(i){const r=i.getLastChildByKind(l.SyntaxKind.Identifier)?.getText(),a=r?Ee(r):null;if(a)i.transform(()=>x.createLiteralTypeNode(x.createStringLiteral(a)));else{const s=ge(e.getText().replace(/HTMLAttributes$/,""));s.length&&i.transform(()=>x.createLiteralTypeNode(x.createStringLiteral(s)))}n?.replaceWithText("ST.PropsOf"),e.getSourceFile().addImportDeclaration({namespaceImport:"ST",moduleSpecifier:"@suid/types"})}}o(Te,"replaceReactHTMLAttributes");function Se(e){u(e,"Component",{moduleSpecifier:"solid-js",namedImport:"Component"})}o(Se,"replaceReactJSXElementConstructor");const G=`__REMOVE__${Date.now()}`;function xe(e){const n=g(e),t=n.getParentIfKind(l.SyntaxKind.CallExpression);if(t){const i=t.getArguments();for(let r=1;r<i.length;++r)t.removeArgument(1);h(e.getSourceFile(),G,""),n.replaceWithText(G)}}o(xe,"replaceReactMemo");function he(e){u(e,"JSXElement",{moduleSpecifier:"solid-js",namedImport:"JSXElement"})}o(he,"replaceReactNode");function Le(e){const n=g(e),t=n.getParentIfKind(l.SyntaxKind.TypeReference),i=t?.forEachChildAsArray()||[];if(t&&i.length>1){const[,r]=i,a=r?.getText();a==="any"?(t.replaceWithText("ST.ElementType"),e.getSourceFile().addImportDeclaration({moduleSpecifier:"@suid/types",namespaceImport:"ST"})):(t.replaceWithText(`Component<${a}>`),e.getSourceFile().addImportDeclaration({moduleSpecifier:"solid-js",namedImports:["Component"]}))}else n.replaceWithText("ST.ElementType"),e.getSourceFile().addImportDeclaration({moduleSpecifier:"@suid/types",namespaceImport:"ST"})}o(Le,"replaceReactReactElement");function ye(e){u(e,"Ref",{moduleSpecifier:"@suid/types",namespaceImport:"ST"})}o(ye,"replaceReactRef");const P=`__REMOVE__${Date.now()}`;function Me(e){const n=g(e),t=n.getParentIfKind(l.SyntaxKind.CallExpression);if(t){const i=t.getArguments();for(let r=1;r<i.length;++r)t.removeArgument(1);h(e.getSourceFile(),P,""),n.replaceWithText(P)}}o(Me,"replaceReactUseCallback");function Ie(e){u(e,"useContext",{moduleSpecifier:"solid-js",namedImport:"useContext"})}o(Ie,"replaceReactUseContext");function He(e){if(m.isArrowFunction(e)&&!e.getChildrenOfKind(l.SyntaxKind.Block)){const n=e.forEachChildAsArray();if(n.length===2)return n[1]}}o(He,"getInlineReturn");function M(e){return m.isFunctionDeclaration(e)||m.isFunctionExpression(e)||m.isArrowFunction(e)}o(M,"isAnyFunction");function B(e,n={}){const t=g(e),i=t.getParentIfKind(l.SyntaxKind.CallExpression);let r=n.functionName||"createEffect",a=!1,s=!1,f,c,d;if(i){const[p,E]=i.getArguments();if(M(p)){c=p;const T=c.getReturnType().getText();a=T.startsWith("() =>")||T.startsWith("function");const L=He(c);if(L)M(L)&&(f=L);else{const F=c.getFirstChildByKindOrThrow(l.SyntaxKind.Block).getChildSyntaxListOrThrow(),K=F.getFirstChildByKind(l.SyntaxKind.ReturnStatement);if(K&&F.getChildren().length===1){const[C]=K.forEachChildAsArray();M(C)&&(f=C)}}}m.isArrayLiteralExpression(E)&&(d=E,d.getElements().length?n.removeDependencies||(s=!0):r="onMount")}a?(r==="onMount"&&f?(r="onCleanup",c?.replaceWithText(f.getText()),e.getSourceFile().addImportDeclaration({namedImports:[r],moduleSpecifier:"solid-js"})):(r+="WithCleaning",e.getSourceFile().addImportDeclaration({defaultImport:r,moduleSpecifier:`@suid/system/${r}`})),t.replaceWithText(r)):(t.replaceWithText(r),e.getSourceFile().addImportDeclaration({namedImports:[r,...s?["on"]:[]],moduleSpecifier:"solid-js"})),c&&d&&s&&c.replaceWithText(`on(
() => ${d.getText()},
${c.getText()}
)`),d&&i?.removeArgument(d)}o(B,"replaceReactUseEffect");function Fe(e,n={}){return B(e,{...n,functionName:"createRenderEffect"})}o(Fe,"replaceReactUseLayoutEffect");function O(e,n=!1){const t=e.getText();H(e,`${t}()`),n&&e.replaceWithText(t)}o(O,"renameGetterVarToCall");function Ke(e){const n=g(e),t=n.getFirstAncestorByKind(l.SyntaxKind.CallExpression);if(t){const i=t.getFirstAncestorByKind(l.SyntaxKind.VariableDeclaration);if(i){const a=i.getFirstChildByKind(l.SyntaxKind.Identifier);a&&O(a,!0)}t.getArguments().length>1&&t.removeArgument(1)}n.replaceWithText("createMemo"),e.getSourceFile().addImportDeclaration({namedImports:["createMemo"],moduleSpecifier:"solid-js"})}o(Ke,"replaceReactUseMemo");function Ce(e){const n=g(e),i=n.getFirstAncestorByKind(l.SyntaxKind.CallExpression)?.getFirstAncestorByKind(l.SyntaxKind.VariableDeclaration);if(i){const r=i.getFirstDescendantByKind(l.SyntaxKind.ArrayBindingPattern);if(r){const s=r.getFirstDescendantByKind(l.SyntaxKind.BindingElement)?.getFirstDescendantByKind(l.SyntaxKind.Identifier);s&&O(s,!0)}}n.replaceWithText("createSignal"),e.getSourceFile().addImportDeclaration({namedImports:["createSignal"],moduleSpecifier:"solid-js"})}o(Ce,"replaceReactUseState");function j(e){if(e.wasForgotten())return"";const n=[];let t=[];const i=o(()=>{t.length&&n.push(`{ ${t.join(`,
`)}}`),t=[]},"drainProperties");for(const a of e.forEachChildAsArray())if(m.isSpreadAssignment(a)){i();const s=a.getChildAtIndex(1);S(s)?n.push(s.getText()):n.push(`() => ${s.getText()}`)}else if(m.isPropertyAssignment(a)){const s=a.getInitializer();let f;m.isObjectLiteralExpression(s)?f=j(s):f=s?.getText()??"undefined",s&&S(s)?t.push(`${a.getName()}: ${f}`):t.push(`get ${a.getName()}() { return ${f} }`)}else if(m.isShorthandPropertyAssignment(a)){const s=a.getName();t.push(`${s}: ${s}`)}else t.push(a.getText());const r=!!n.length;return i(),r?(e.getSourceFile().addImportDeclaration({namedImports:["mergeProps"],moduleSpecifier:"solid-js"}),`mergeProps(${n.join(", ")})`):n[0]??"{}"}o(j,"getSpreadAsignment");function Ae(e,n={scopes:["component-top-level","jsx"]}){e.wasForgotten()||!D(e,n.scopes)||e.replaceWithText(j(e))}o(Ae,"replaceSpreadAsignment");const be={Fragment:ue,Context:le,createContext:ce,ReactElement:Le,ElementType:me,memo:xe,ReactNode:he,Ref:ye,useCallback:Me,useContext:Ie,useState:Ce,JSXElementConstructor:Se,useMemo:Ke,forwardRef:pe,useEffect:B,useLayoutEffect:Fe},Ne={className:oe,key:q};function Ge(e){const n=J(e);for(const t of n){if(t.node.wasForgotten())continue;let i=be[t.name];i||(t.name.endsWith("EventHandler")?i=fe:t.name.endsWith("Event")?i=de:t.name.endsWith("HTMLAttributes")&&(i=Te)),i?.(t.node)}ee(e),X(e),z(e),k(e).forEach(t=>se(t)),_(e).forEach(t=>Ae(t)),W(e).forEach(t=>{const i=t.getName();Ne[i]?.(t)}),U(e),Q(e)}o(Ge,"transformReactSource");export{Ge as default};
